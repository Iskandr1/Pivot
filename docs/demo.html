<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Pivot</title>
    <link href="../pivot.css" rel="stylesheet" type="text/css">
    <script src="demo.data.min.js"></script>
    <script src="../pivot.js"></script>
</head>
<body>

<div id="stat" style="position: absolute; width: auto; height: auto;"></div>
<div id="grid"></div>
<script>

    var canvas = document.createElement( 'canvas' );
    document.getElementById( 'grid' ).appendChild( canvas );
    canvas.width = window.innerWidth - 20;
    canvas.height = window.innerHeight - 20;


    var pivot = Pivot.set_canvas( canvas );

    function load_data() {

        pivot.set_data(
                {
                    cols : cols,
                    rows : rows,
                    values : values
                } ).update();
    }

    load_data();

    pivot.on_header_col_click( function (obj, i, j) {

                collapse_col( obj, i, j );
                load_data();
            })
            .on_header_row_click( function (obj, i, j) {

                collapse_row( obj, j, i );
                load_data();
            });

</script>
</body>
</html>